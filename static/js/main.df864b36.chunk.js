(this.webpackJsonpdeel=this.webpackJsonpdeel||[]).push([[0],{18:function(t,e,n){},2:function(t,e,n){t.exports={container:"AutoComplete_container__1TBFA",input:"AutoComplete_input__1fp9D",optionsHolder:"AutoComplete_optionsHolder__2RuPw",options:"AutoComplete_options__33W6z",optionItem:"AutoComplete_optionItem__36r_o",highlight:"AutoComplete_highlight__3yLo1",loading:"AutoComplete_loading__2IcgY",spin:"AutoComplete_spin__11d1V"}},21:function(t,e,n){"use strict";n.r(e);var a,r=n(1),o=n.n(r),s=n(12),c=n.n(s),i=(n(18),n(3)),l=n(4),u=n.n(l),h=n(5),p=n(6),d=n(8),j=n(7),f=n(2),g=n.n(f),m=n(0),b=function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(h.a)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).state={search:"",showList:!1,choosenItem:null},t.inputRef=r.createRef(),t.handleSearchChange=function(e){var n,a,r=e.target.value;t.setState({search:r}),null===(n=(a=t.props).onSearch)||void 0===n||n.call(a,r.trim())},t.showList=function(){t.setState({showList:!0})},t.onBlur=function(){var e,n;t.state.choosenItem&&(null===(e=(n=t.props).onChange)||void 0===e||e.call(n,t.state.choosenItem),t.setState((function(t){return{search:t.choosenItem.title}})));t.setState({showList:!1,choosenItem:null})},t.clearSelected=function(){return t.setState({choosenItem:null})},t.handleInputKeyPress=function(e){"Escape"===e.key&&t.setState({choosenItem:null},(function(){return t.inputRef.current.blur()}))},t}return Object(p.a)(n,[{key:"markTitle",value:function(t){var e=this,n=t.toLowerCase().split(this.state.search.toLowerCase()),a=0;return n.flatMap((function(r,o){var s=[t.substr(a,r.length)];return a+=r.length,o<n.length-1&&s.push(Object(m.jsx)("span",{className:g.a.highlight,children:t.substr(a,e.state.search.length)},o)),a+=e.state.search.length,s}))}},{key:"render",value:function(){var t=this,e=this.props.options||[];return Object(m.jsxs)("div",{className:g.a.container,children:[this.props.loading?Object(m.jsx)("div",{className:g.a.loading}):null,Object(m.jsx)("input",{ref:this.inputRef,className:g.a.input,value:this.state.search,onChange:this.handleSearchChange,onKeyDown:this.handleInputKeyPress,onFocus:this.showList,onBlur:this.onBlur}),e.length&&this.state.showList?Object(m.jsx)("div",{className:g.a.optionsHolder,onMouseLeave:this.clearSelected,children:Object(m.jsx)("div",{className:g.a.options,children:e.map((function(e){return Object(m.jsx)("div",{className:g.a.optionItem,onMouseEnter:function(){return t.setState({choosenItem:e})},children:t.markTitle(e.title)},e.id)}))})}):null]})}}]),n}(r.Component),v=n(11),O=n(10),_=n.n(O),x=n(13);function C(t,e){var n=null;return function(){for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];clearTimeout(n),n=setTimeout((function(){e.apply(void 0,r)}),t)}}function S(t){return a&&a.abort(),a=new AbortController,fetch("https://rickandmortyapi.com/api/character/?name=".concat(t),{signal:a.signal}).then((function(t){return t.json()})).catch((function(t){console.error("Error fetching data",t)})).then((function(t){return(null===t||void 0===t?void 0:t.results)||[]}))}function w(t){return function(e){Object(d.a)(a,e);var n=Object(j.a)(a);function a(){var t;Object(h.a)(this,a);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(t=n.call.apply(n,[this].concat(r))).state={characters:[],loading:!1},t.onSearch=C(500,function(){var e=Object(x.a)(_.a.mark((function e(n){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return t.setState({loading:!0}),e.next=5,S(n);case 5:a=e.sent,t.setState({characters:a,loading:!1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.onChange=function(e){var n,a,r=t.state.characters.find((function(t){return t.id===e.id}));null===(n=(a=t.props).onChange)||void 0===n||n.call(a,r)},t}return Object(p.a)(a,[{key:"render",value:function(){return Object(m.jsx)(t,Object(v.a)(Object(v.a)({loading:this.state.loading,options:this.state.characters.map((function(t){return{id:t.id,title:t.name}})),onSearch:this.onSearch},this.props),{},{onChange:this.onChange}))}}]),a}(r.Component)}function y(t,e){var n=t.toLowerCase().split(e.toLowerCase()),a=0;return n.flatMap((function(r,o){var s=[t.substr(a,r.length)];return a+=r.length,o<n.length-1&&s.push(Object(m.jsx)("span",{className:g.a.highlight,children:t.substr(a,e.length)},o)),a+=e.length,s}))}var N=w(b),A=w((function(t){var e=Object(r.useState)(""),n=Object(i.a)(e,2),a=n[0],o=n[1],s=Object(r.useState)(!1),c=Object(i.a)(s,2),l=c[0],u=c[1],h=Object(r.useState)(null),p=Object(i.a)(h,2),d=p[0],j=p[1],f=r.useRef(),b=r.useRef(!1);Object(r.useEffect)((function(){b.current&&(b.current=!1,f.current.blur())}));var v=t.options||[];return Object(m.jsxs)("div",{className:g.a.container,children:[t.loading?Object(m.jsx)("div",{className:g.a.loading}):null,Object(m.jsx)("input",{ref:f,className:g.a.input,value:a,onChange:function(e){var n,a=e.target.value;o(a),null===(n=t.onSearch)||void 0===n||n.call(t,a.trim())},onKeyDown:function(t){"Escape"===t.key&&(j(null),b.current=!0)},onFocus:function(){return u(!0)},onBlur:function(){var e;d&&(null===(e=t.onChange)||void 0===e||e.call(t,d),o(d.title)),u(!1),j(null)}}),v.length&&l?Object(m.jsx)("div",{className:g.a.optionsHolder,onMouseLeave:function(){return j(null)},children:Object(m.jsx)("div",{className:g.a.options,children:v.map((function(t){return Object(m.jsx)("div",{className:g.a.optionItem,onMouseEnter:function(){return j(t)},children:y(t.title,a)},t.id)}))})}):null]})}));var I=function(){var t=Object(r.useState)(null),e=Object(i.a)(t,2),n=e[0],a=e[1];return Object(m.jsxs)("div",{className:u.a.container,children:[Object(m.jsx)("div",{className:u.a.dogHolder}),Object(m.jsx)("h2",{children:"Choose your character"}),Object(m.jsxs)("div",{className:u.a.inputs,children:[Object(m.jsxs)("div",{children:["Class based: ",Object(m.jsx)(N,{onChange:a})]}),Object(m.jsxs)("div",{children:["Hooks: ",Object(m.jsx)(A,{onChange:a})]})]}),n&&Object(m.jsxs)("div",{className:u.a.character,children:[Object(m.jsx)("img",{src:n.image,className:u.a.image,alt:n.name}),n.name]})]})},L=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,o=e.getLCP,s=e.getTTFB;n(t),a(t),r(t),o(t),s(t)}))};c.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(I,{})}),document.getElementById("root")),L()},4:function(t,e,n){t.exports={container:"App_container__GHdtP",character:"App_character__22Ycs",image:"App_image__1UwBP",inputs:"App_inputs__3Zqty",dogHolder:"App_dogHolder__9wpBG"}}},[[21,1,2]]]);
//# sourceMappingURL=main.df864b36.chunk.js.map